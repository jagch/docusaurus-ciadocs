"use strict";(self.webpackChunkdocusaurus_ciadocs=self.webpackChunkdocusaurus_ciadocs||[]).push([[1059],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=s(a),c=r,k=u["".concat(d,".").concat(c)]||u[c]||m[c]||i;return a?n.createElement(k,l(l({ref:t},p),{},{components:a})):n.createElement(k,l({ref:t},p))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6352:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={},l="Lineamientos para el Dise\xf1o de APIs",o={unversionedId:"cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis",id:"cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis",title:"Lineamientos para el Dise\xf1o de APIs",description:"Versi\xf3n 1.1",source:"@site/docs/cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis.md",sourceDirName:"cia-funciones/lineamientos-para-dise\xf1o-de-apis",slug:"/cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis",permalink:"/docusaurus-ciadocs/docs/cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cia-funciones/lineamientos-para-dise\xf1o-de-apis/lineamientos-de-dise\xf1o-de-apis.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lineamientos para Dise\xf1o de APIs",permalink:"/docusaurus-ciadocs/docs/category/lineamientos-para-dise\xf1o-de-apis"},next:{title:"Principios de Dise\xf1o de Servicios",permalink:"/docusaurus-ciadocs/docs/cia-funciones/lineamientos-para-dise\xf1o-de-apis/principios-de-dise\xf1o-de-servicios"}},d={},s=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Tabla de Contenido",id:"tabla-de-contenido",level:2},{value:"Lineamientos Generales",id:"lineamientos-generales",level:2},{value:"Metadata",id:"metadata",level:2},{value:"URI",id:"uri",level:2},{value:"M\xe9todos HTTP",id:"m\xe9todos-http",level:2},{value:"Cabeceras HTTP",id:"cabeceras-http",level:2},{value:"Payload",id:"payload",level:2},{value:"Tipos de Datos",id:"tipos-de-datos",level:2},{value:"Versionado",id:"versionado",level:2},{value:"Consideraciones",id:"consideraciones",level:3},{value:"Manejo de Logs de Aplicaci\xf3n",id:"manejo-de-logs-de-aplicaci\xf3n",level:2},{value:"Seguridad",id:"seguridad",level:2},{value:"Manejo de Errores",id:"manejo-de-errores",level:2},{value:"Clases de error y tipificaci\xf3n de mensajes",id:"clases-de-error-y-tipificaci\xf3n-de-mensajes",level:3},{value:"Cat\xe1logo de errores por validaci\xf3n de datos de entrada",id:"cat\xe1logo-de-errores-por-validaci\xf3n-de-datos-de-entrada",level:3},{value:"Anexos",id:"anexos",level:2},{value:"A. error.json",id:"a-errorjson",level:3},{value:"B. error_details.json",id:"b-error_detailsjson",level:3}],p={toc:s};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lineamientos-para-el-dise\xf1o-de-apis"},"Lineamientos para el Dise\xf1o de APIs"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Versi\xf3n 1.1"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"01/06/22")),(0,r.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,r.kt)("p",null,"El presente documento contiene las pol\xedticas y est\xe1ndares que se debe seguir para el dise\xf1o de APIs en la Capa de Integraci\xf3n de Alicorp (CIA)."),(0,r.kt)("p",null,"Estos lineamientos tienen como objetivo asegurar un dise\xf1o de APIs que:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Permita que sean f\xe1ciles de entender e interpretar."),(0,r.kt)("li",{parentName:"ul"},"Cuenten con una estructura com\xfan y est\xe1ndar que simplifique la interoperabilidad."),(0,r.kt)("li",{parentName:"ul"},"Faciliten su uso y composici\xf3n."),(0,r.kt)("li",{parentName:"ul"},"Sean consistentes con el resto de APIs."),(0,r.kt)("li",{parentName:"ul"},"Permita un adecuado gobierno y gesti\xf3n del ciclo de vida.")),(0,r.kt)("br",null),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"tabla-de-contenido"},"Tabla de Contenido"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#lineamientos-generales"},"Lineamientos Generales")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#metadata"},"Metadata")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#uri"},"URI")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#m%C3%A9todos-http"},"M\xe9todos HTTP")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#cabeceras-http"},"Cabeceras HTTP")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#payload"},"Payload")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#tipos-de-datos"},"Tipos de Datos")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#versionado"},"Versionado"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#consideraciones"},"Consideraciones")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#manejo-de-logs-de-aplicaci%C3%B3n"},"Manejo de Logs de Aplicaci\xf3n")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#seguridad"},"Seguridad")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#manejo-de-errores"},"Manejo de Errores"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#clases-de-error-y-tipificaci%C3%B3n-de-mensajes"},"Clases de error y tipificaci\xf3n de mensajes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#cat%C3%A1logo-de-errores-por-validaci%C3%B3n-de-datos-de-entrada"},"Cat\xe1logo de errores por validaci\xf3n de datos de entrada")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#anexos"},"Anexos"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#a-errorjson"},"A. error.json")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#b-error_detailsjson"},"B. error_details.json"))))),(0,r.kt)("hr",null),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"lineamientos-generales"},"Lineamientos Generales"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Se debe tomar como base los principios de dise\xf1o de servicios publicados en el sharepoint de arquitectura publicados en Sharepoint (",(0,r.kt)("a",{parentName:"li",href:"https://bposgromero.sharepoint.com/teams/ArquitecturaeInnovacion/SitePages/Dise%C3%B1o-de-APIs.aspx"},"Link"),")."),(0,r.kt)("li",{parentName:"ul"},"Para la implementaci\xf3n de nuevas APIs se deber\xe1 seguir el enfoque de ",(0,r.kt)("strong",{parentName:"li"},"API First"),", en la que dise\xf1amos, documentos y generamos la especificaci\xf3n de las APIs antes de empezar con la construcci\xf3n."),(0,r.kt)("li",{parentName:"ul"},"El est\xe1ndar a utilizar para elaborar las especificaciones es el definido por ",(0,r.kt)("a",{parentName:"li",href:"https://swagger.io/specification/"},"Open API v3"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"El archivo de especificaci\xf3n debe publicarse y versionarse en el repositorio definido en Azure DevOps (",(0,r.kt)("a",{parentName:"li",href:"https://dev.azure.com/ciaalicorp/CIA_DevOps/_wiki/wikis/CIA_DevOps.wiki/10/Documentaci%C3%B3n-T%C3%A9cnica"},"Link"),")."),(0,r.kt)("li",{parentName:"ul"},"El idioma a utilizar en las especificaciones es el ",(0,r.kt)("strong",{parentName:"li"},"Ingl\xe9s"),".")))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"metadata"},"Metadata"),(0,r.kt)("p",null,"Las especificaci\xf3n de las API debe considerar como mandatorio los siguientes atributos como metadata:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"#/info/title")," : Nombre o identificador \xfanico que describa funcionalmente al API."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"#/info/version")," : Indica la versi\xf3n del API, bajo lo definido en el apartado de ",(0,r.kt)("a",{parentName:"li",href:"#versionado"},"versionado"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"#/info/description")," : Descripci\xf3n funcional detallada y alcance de la API."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"#/info/x-audience")," : Utilizado para indicar el p\xfablico objetivo del API. Estos pueden ser:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"internal"),": Los consumidores de estas APIs son \xfanicamente aplicaciones internas de la compa\xf1\xeda."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"external"),": Los consumidores de estas APIs son aplicaciones de terceros pero que son partners de Alicorp o soluciones SaaS."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"public"),": Los consumidores de estas API puede ser cualquier empresa o usuario final en internet.")))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"uri"},"URI"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'El path de la URI estar\xe1 compuesto por la "versi\xf3n Mayor" del API, seguido por el namespace, recursos y sub-recursos en caso aplique. Por ejemplo:'),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"https://rgw.prd.api-alicorp.com/v1/dex/customer/15587846")),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Fragmento del Path"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Definici\xf3n"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"v1")),(0,r.kt)("td",{parentName:"tr",align:null},"Versi\xf3n mayor del API"),(0,r.kt)("td",{parentName:"tr",align:null},"La versi\xf3n mayor de una API se utiliza cuando dos versiones son incompatibles con versiones anteriores de la misma API, como se indica en el punto 8:  ",(0,r.kt)("a",{parentName:"td",href:"#8-versionado"},"versionado"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"dex")),(0,r.kt)("td",{parentName:"tr",align:null},"Namespace"),(0,r.kt)("td",{parentName:"tr",align:null},"Se utiliza para proporcionar un contexto y alcance a los recursos. Un Namespace puede referirse a una l\xednea de negocio, capacidad de negocio o a un dominio funcional.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customer")),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre del Recurso"),(0,r.kt)("td",{parentName:"tr",align:null},"Un recurso es un objeto con datos asociados, relaciones con otros recursos y un conjunto de m\xe9todos que operan sobre \xe9l. Todo aquello que pueda ser nombrado es un recurso, por ejemplo: Person, Image, Document, Shipment, etc. ",(0,r.kt)("br",null)," No hacer uso de verbos como nombre de un recurso.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"15587846")),(0,r.kt)("td",{parentName:"tr",align:null},"Identificador del Recurso"),(0,r.kt)("td",{parentName:"tr",align:null},"Para obtener un recurso en particular, se debe enviar el identificador del recurso como parte de la URI."))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Utilizar path normalizados donde se evite finalizar el path con slash o que contenga un doble slash en la URI. Ejemplos de path incorrecto: ",(0,r.kt)("inlineCode",{parentName:"p"},"/products/stock/")," o ",(0,r.kt)("inlineCode",{parentName:"p"},"/products//stock"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Evitar usar acciones como parte de la URI ya que van en contra del concepto de orientaci\xf3n a recursos de Restful. Sin embargo, puede darse el caso en que el escenario de integraci\xf3n lo amerite, por lo que estar\xe1 sujeto a evaluaci\xf3n."))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"m\xe9todos-http"},"M\xe9todos HTTP"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"GET"),": El prop\xf3sito del m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," es ",(0,r.kt)("strong",{parentName:"p"},"leer")," un recurso o una colecci\xf3n de recursos."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Los m\xe9todos GET no deben enviar par\xe1metros en el body del request."),(0,r.kt)("li",{parentName:"ul"},"Solo en casos excepcionales donde se necesita enviar muchos par\xe1metros de entrada para una consulta se puede utilizar el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"POST"),": El principal prop\xf3sito del m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," es ",(0,r.kt)("strong",{parentName:"p"},"crear")," un recurso."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Si el recurso no existe y es creado, se debe retornar un c\xf3digo ",(0,r.kt)("strong",{parentName:"li"},"201"),"."),(0,r.kt)("li",{parentName:"ul"},"En caso el recurso ya exista y sea actualizado, se deber\xeda retornar un ",(0,r.kt)("strong",{parentName:"li"},"200"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"PUT"),": El m\xe9todo PUT es utilizado para ",(0,r.kt)("strong",{parentName:"p"},"actualizar")," un recurso aunque tambi\xe9n podr\xeda ",(0,r.kt)("strong",{parentName:"p"},"crearlo")," en caso el recurso no existiese."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La ejecuci\xf3n exitosa de este m\xe9todo deber\xeda retornar un ",(0,r.kt)("strong",{parentName:"li"},"204")," ya que no se esperar\xeda ning\xfan dato en la respuesta."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"PATCH"),": Este m\xe9todo es utilizado para ",(0,r.kt)("strong",{parentName:"p"},"actualizar")," parte de la data de un recurso."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La ejecuci\xf3n exitosa de este m\xe9todo deber\xeda retornar un ",(0,r.kt)("strong",{parentName:"li"},"204")," ya que no se esperar\xeda ning\xfan dato en la respuesta."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"DELETE"),": Este m\xe9todo es utilizado para ",(0,r.kt)("strong",{parentName:"p"},"eliminar")," un recurso por su ID."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La ejecuci\xf3n exitosa de este m\xe9todo deber\xeda retornar un ",(0,r.kt)("strong",{parentName:"li"},"204")," ya que no se esperar\xeda ning\xfan dato en la respuesta.")))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"cabeceras-http"},"Cabeceras HTTP"),(0,r.kt)("p",null,"Las operaciones de las API deber\xe1n incluir como m\xednimo los siguientes atributos como parte de la cabecera del request y response:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nombre"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Ejemplo"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Request-Id"),(0,r.kt)("td",{parentName:"tr",align:null},"La aplicaci\xf3n consumidora enviar\xe1 un c\xf3digo \xfanico por petici\xf3n (request) para fines de trazabilidad. El mismo campo se deber\xe1 enviar en la cabecera de una respuesta s\xedncrona o en la cabecera del webhook en caso aplique."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"692b5d77-4cf3-4671-85d4-32e934618957"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Application"),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre de la aplicaci\xf3n consumidora del API"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SIDEX"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"WEB_CLIENTES"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PORTAL_PROVEEDORES"))))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"payload"},"Payload"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El formato de mensaje a utilizar en el payload de las APIs es JSON (encoding UTF-8)."),(0,r.kt)("li",{parentName:"ul"},"En caso se requiera hacer uso de formatos de datos estructurados que no sean JSON (Ejm: XML, CSV), se podr\xe1 evaluar como excepci\xf3n para casos de uso espec\xedficos en los que el consumidor tenga una restricci\xf3n t\xe9cnica y solo soporte alguno de los formatos mencionados.")),(0,r.kt)("h2",{id:"tipos-de-datos"},"Tipos de Datos"),(0,r.kt)("p",null,"Considerar los  formatos de datos definidos en ",(0,r.kt)("a",{parentName:"p",href:"https://swagger.io/docs/specification/data-models/data-types/"},"Open API (data-models)"),". En la siguiente matriz se pueden encontrar algunos ejemplos del formato de dato correcto a utilizar:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"OpenAPI (type)"),(0,r.kt)("th",{parentName:"tr",align:null},"OpenAPI (format)"),(0,r.kt)("th",{parentName:"tr",align:null},"Ejemplo"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"int32"),(0,r.kt)("td",{parentName:"tr",align:null},"41257895478")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"bigint"),(0,r.kt)("td",{parentName:"tr",align:null},"4125789547800000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"number"),(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null},"3.1415927")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},'"U3dhZ2dlciByb2Nrcw=="')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null},'"2022-01-30"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"date-time"),(0,r.kt)("td",{parentName:"tr",align:null},'"2022-01-30T08:10:20.543Z"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"time"),(0,r.kt)("td",{parentName:"tr",align:null},'"08:10:20.543Z"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"password"),(0,r.kt)("td",{parentName:"tr",align:null},'"pass"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"email"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:correo@alicorp.com.pe"},"correo@alicorp.com.pe"))))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"versionado"},"Versionado"),(0,r.kt)("p",null,"Open API permite especificar la versi\xf3n de una API en el atributo ",(0,r.kt)("inlineCode",{parentName:"p"},"#/info/version"),". El est\xe1ndar a utilizar para el versionamiento ser\xe1 el de ",(0,r.kt)("a",{parentName:"p",href:"https://semver.org/spec/v2.0.0.html"},"Semantic Versioning 2.0.0"),", que propone el formato ",(0,r.kt)("inlineCode",{parentName:"p"},"<Mayor>.<Menor>.<Fix>"),". Ejemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.11")),(0,r.kt)("h3",{id:"consideraciones"},"Consideraciones"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Todo cambio realizado a una API productiva debe incrementar su versi\xf3n."),(0,r.kt)("li",{parentName:"ul"},"Un versionado ",(0,r.kt)("strong",{parentName:"li"},"Fix")," se utiliza cuando al introducir un cambio que corrige un bug o compartamiendo indebido del API y que adem\xe1s es compatible con la versi\xf3n anterior."),(0,r.kt)("li",{parentName:"ul"},"Un versionado ",(0,r.kt)("strong",{parentName:"li"},"Menor")," es aquel que introduce nueva funcionalidad o mejora que adem\xe1s es compatible con la versi\xf3n anterior. (Ejemplo: una nueva operaci\xf3n)."),(0,r.kt)("li",{parentName:"ul"},"Un versionado ",(0,r.kt)("strong",{parentName:"li"},"Mayor")," es aquel que introduce nueva funcionalidad o cambio pero esta es incompatible con versiones anteriores, lo cual impacta a los consumidores vigentes del API."),(0,r.kt)("li",{parentName:"ul"},"La versi\xf3n ",(0,r.kt)("strong",{parentName:"li"},"Mayor")," forma parte del endpoint, tal como se inidica en la secci\xf3n ",(0,r.kt)("a",{parentName:"li",href:"#uri"},"URI"),". Ejemplo: ",(0,r.kt)("inlineCode",{parentName:"li"},"/V1/products/{productId}"))),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,"openapi: 3.0.2 info: title: Stock API description: API para consulta de stock version: 1.1.7"),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"manejo-de-logs-de-aplicaci\xf3n"},"Manejo de Logs de Aplicaci\xf3n"),(0,r.kt)("p",null,"(En construcci\xf3n)"),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"seguridad"},"Seguridad"),(0,r.kt)("p",null,"El mecanismo de autenticaci\xf3n est\xe1ndar para el consumo de APIS a utilizar es OAuth 2.0. En el caso de la ",(0,r.kt)("strong",{parentName:"p"},"CIA"),", el oAuth provider es API Connect y el tipo de grant-type a utilizar es Client Credentials."),(0,r.kt)("p",null,"Por otro lado, a la hora de dise\xf1ar una API se debe tener en cuenta los est\xe1ndares propuestos por OWASP, los cuales han sido recogidos y complementados en el documento de lineamientos de seguridad para el dise\xf1o de APIs, elaborado y publicado por el \xe1rea de Ciberseguridad de Alicorp en el siguiente ",(0,r.kt)("a",{parentName:"p",href:"#"},"Link"),"."),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"manejo-de-errores"},"Manejo de Errores"),(0,r.kt)("p",null,"De acuerdo a la especificaci\xf3n de HTTP, el resultado de una ejecuci\xf3n debe retornar un c\xf3digo (status code) y un mensaje, el cual debe poder ser le\xeddo e interpretado f\xe1cilmente para tener claridad de la respuesta de una invocaci\xf3n.\nLos status code HTTP ",(0,r.kt)("strong",{parentName:"p"},"4XX")," indican que el error se origin\xf3 del lado del cliente mientras que los status code ",(0,r.kt)("strong",{parentName:"p"},"5XX")," que fue del lado del servidor."),(0,r.kt)("p",null,"Es por ello que se har\xe1 uso de una estructura est\xe1ndar para el manejo de errores que contemple lo anterior y adem\xe1s brinde informaci\xf3n adicional para fines de trazabilidad as\xed como el detalle necesario que permita a los consumidores controlar los distintos escenarios de error."),(0,r.kt)("p",null,"Una respuesta de error debe considerar el esquema ",(0,r.kt)("a",{parentName:"p",href:"##-A-error.json"},"error.json"),", el cual se describe a continuaci\xf3n:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"code"),": Nombre \xfanico para el error. El nombre describe la clase del error."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"message"),": Mensaje de error que sea legible y que describa la clase o tipo de error."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"details"),": Contiene un arreglo con los errores espec\xedficos encontrados en la petici\xf3n. ",(0,r.kt)("strong",{parentName:"li"},"Este campo es requerido solo para los errores del lado de cliente (",(0,r.kt)("inlineCode",{parentName:"strong"},"4XX"),")."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"field"),": Puntero JSON hacia el campo con el error en caso de encontrarse en el body. Sino, indicar el nombre del par\xe1metro."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"issue"),": C\xf3digo de error de tipo texto que sea legible."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"description"),": Una descripci\xf3n que explique y describa el problema encontrado (",(0,r.kt)("inlineCode",{parentName:"li"},"issue"),").")))),(0,r.kt)("h3",{id:"clases-de-error-y-tipificaci\xf3n-de-mensajes"},"Clases de error y tipificaci\xf3n de mensajes"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"HTTP status code"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Code"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Message"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"400 Bad Request"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_REQUEST")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Request is not well-formed, syntactically incorrect, or violates schema.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"401 Unauthorized ")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"AUTHENTICATION_FAILURE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Authentication failed due to missing Authorization header, or invalid authentication credentials.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"403 Forbidden"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"NOT_AUTHORIZED")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Authorization failed due to insufficient permissions.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"404 Not Found"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"RESOURCE_NOT_FOUND")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The specified resource does not exist.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"405 Method Not Allowed")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"METHOD_NOT_SUPPORTED")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The server does not implement the requested HTTP method.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"406 Not Acceptable")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"MEDIA_TYPE_NOT_ACCEPTABLE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The server does not implement the media type that would be acceptable to the client.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"409 Conflict")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"RESOURCE_CONFLICT")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The server has detected a conflict while processing this request.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"415 Unsupported Media Type")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"UNSUPPORTED_MEDIA_TYPE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The server does not support the request payload's media type.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"412 Precondition Failed")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PRECONDITION_FAILED")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Update failed. Resource has changed on the server.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"413 Payload Too Large")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PAYLOAD_TOO_LARGE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The request entity is larger than the size limit defined by the server.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"422 Unprocessable Entity"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"UNPROCESSABLE_ENTITY")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The requested action could not be performed, semantically incorrect, or failed business validation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"428 Precondition Required")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"MISSING_PRECONDITION_HEADER")),(0,r.kt)("td",{parentName:"tr",align:"left"},"This request must be conditional and requires a If-Match header.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"429 Too Many Requests")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"RATE_LIMIT_REACHED")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Too many requests. Blocked due to rate limiting.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"500 Internal Server Error"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INTERNAL_SERVER_ERROR")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An internal server error has occurred.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"503 Service Unavailable")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"SERVICE_UNAVAILABLE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Service Unavailable.")))),(0,r.kt)("h3",{id:"cat\xe1logo-de-errores-por-validaci\xf3n-de-datos-de-entrada"},"Cat\xe1logo de errores por validaci\xf3n de datos de entrada"),(0,r.kt)("p",null,"Para los errores de validaci\xf3n del request se puede requerir el resultado por par\xe1metro de entrada, para lo cual se har\xe1 uso del campo ",(0,r.kt)("inlineCode",{parentName:"p"},"details")," (","[error_details.json]","(### B. error_details.json)). A continuaci\xf3n alguno de los posibles valores a considerar como c\xf3digo de error (",(0,r.kt)("inlineCode",{parentName:"p"},"issue"),") y descripci\xf3n (",(0,r.kt)("inlineCode",{parentName:"p"},"description"),"):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"th"},"issue")),(0,r.kt)("th",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"th"},"description")),(0,r.kt)("th",{parentName:"tr",align:"left"}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"MISSING_REQUIRED_PARAMETER")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A required field or parameter is missing."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"MALFORMED_REQUEST_JSON")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The request JSON is not well formed."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_STRING_MIN_LENGTH")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of a field is too short."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_STRING_MAX_LENGTH")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of a field is too long."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_STRING_LENGTH")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of a field is either too short or too long."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_PARAMETER_SYNTAX")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of a field does not conform to the expected format."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_INTEGER_MIN_VALUE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The integer value of a field is too small."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_INTEGER_MAX_VALUE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The integer value of a field is too large."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_PARAMETER_VALUE")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of a field is invalid."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_ARRAY_MIN_ITEMS")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The number of items in an array parameter is too small."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_ARRAY_MAX_ITEMS")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The number of items in an array parameter is too large."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_ARRAY_LENGTH")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The number of items in an array parameter is too small or too large."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"INVALID_PATCH_PATH")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value of ",(0,r.kt)("inlineCode",{parentName:"td"},"path")," in a HTTP PATCH request item is invalid."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"READ_ONLY")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The field in the request body is read only so it can't be modified."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"CANNOT_REUSE_IDEMPOTENCY_KEY")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The idempotency key cannot be reused for a different request payload."),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"EXCEEDS_MAXIMUM_NUMBER_OF_OPERATIONS")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The request body exceeds maximum allowed operations for a batch."),(0,r.kt)("td",{parentName:"tr",align:"left"})))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"anexos"},"Anexos"),(0,r.kt)("h3",{id:"a-errorjson"},"A. error.json"),(0,r.kt)("p",null,"Esquema JSON est\xe1ndar para el manejo de los errores en la especificaci\xf3n de las APIs:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"error.json"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "type": "object",\n    "title": "Error",\n    "description": "The error details.",\n    "properties": {\n        "code": {\n            "type": "string",\n            "description": "The human-readable, unique name of the error."\n        },\n        "message": {\n            "type": "string",\n            "description": "The message that describes the error."\n        },\n        "details": {\n            "type": "array",\n            "description": "An array of additional details about the error.",\n            "items": {\n                "$ref": "./error_details.json"\n            }\n        }\n    },\n    "required": [\n        "name",\n        "message",\n    ],\n}\n'))),(0,r.kt)("h3",{id:"b-error_detailsjson"},"B. error_details.json"),(0,r.kt)("p",null,"Esquema JSON est\xe1ndar para el detalle de los errores de validaci\xf3n de par\xe1metros. Solo aplica para errores del lado de cliente y es complementario al esquema descrito en ",(0,r.kt)("a",{parentName:"p",href:"##-A-error.json"},"error.json"),":"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"error_details.json"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Error Details",\n    "type": "object", \n    "description": "The error details. Required for client-side `4XX` errors.",\n    "properties": {\n        "field": {\n            "type": "string",\n            "description": "The field that caused the error. If this field is in the body, set this \n                           value to the field\'s JSON pointer value. Required for client-side errors."\n        },\n        "issue": {\n            "type": "string",\n            "description": "The unique, fine-grained application-level error code."\n        },\n        "description": {\n            "type": "string",\n            "description": "The human-readable description for an issue. The description can change over \n                            the lifetime of an API, so clients must not depend on this value."\n        }\n    },\n    "required": [\n        "issue"\n    ]\n}\n'))))}m.isMDXComponent=!0}}]);